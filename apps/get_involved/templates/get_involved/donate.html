{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Donate - Support KCIHH | Kenya Climate Innovation & Heritage Hub{% endblock %}

{% block meta_description %}Support the Kenya Climate Innovation & Heritage Hub. Your donation helps train youth, restore ecosystems, and preserve indigenous knowledge.{% endblock %}

{% block extra_css %}
<style>
    /* ===== PREMIUM CINEMATIC DONATE STYLES ===== */
    
    /* Custom Properties */
    :root {
        --primary: #10b981;
        --primary-dark: #059669;
        --primary-light: #34d399;
        --primary-glow: rgba(16, 185, 129, 0.5);
        --accent-yellow: #fbbf24;
        --accent-purple: #8b5cf6;
        --accent-orange: #f97316;
    }
    
    /* Animated Background */
    .animated-bg {
        position: relative;
        overflow: hidden;
    }
    
    .animated-bg::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            45deg,
            transparent 30%,
            rgba(16, 185, 129, 0.1) 50%,
            transparent 70%
        );
        animation: shine 8s infinite;
    }
    
    @keyframes shine {
        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }
    
    /* Gradient Orbs */
    .gradient-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        z-index: 0;
        animation: float 15s ease-in-out infinite;
    }
    
    @keyframes float {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(30px, -30px) scale(1.1); }
        66% { transform: translate(-20px, 20px) scale(0.9); }
    }
    
    .orb-1 {
        top: 5%;
        left: 5%;
        width: 400px;
        height: 400px;
        background: rgba(16, 185, 129, 0.15);
        animation-delay: 0s;
    }
    
    .orb-2 {
        bottom: 5%;
        right: 5%;
        width: 500px;
        height: 500px;
        background: rgba(5, 150, 105, 0.15);
        animation-delay: -5s;
    }
    
    .orb-3 {
        top: 40%;
        right: 20%;
        width: 300px;
        height: 300px;
        background: rgba(251, 191, 36, 0.1);
        animation-delay: -2s;
    }
    
    /* Page Header - Cinematic */
    .cinematic-header {
        position: relative;
        min-height: 500px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        background: linear-gradient(135deg, #065f46, #047857, #059669, #10b981);
        background-size: 400% 400%;
        animation: gradientShift 10s ease infinite;
    }
    
    @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    .header-particles {
        position: absolute;
        inset: 0;
        z-index: 1;
    }
    
    .particle {
        position: absolute;
        width: 6px;
        height: 6px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        animation: particleFloat 20s linear infinite;
    }
    
    @keyframes particleFloat {
        0% {
            transform: translateY(100vh) translateX(0);
            opacity: 0;
        }
        10% { opacity: 0.7; }
        90% { opacity: 0.7; }
        100% {
            transform: translateY(-20vh) translateX(100px);
            opacity: 0;
        }
    }
    
    .header-content {
        position: relative;
        z-index: 2;
        text-align: center;
        color: white;
        max-width: 1000px;
        padding: 0 20px;
    }
    
    .header-badge {
        display: inline-block;
        padding: 3px;
        background: linear-gradient(90deg, white, var(--primary-light), white);
        background-size: 300% 100%;
        border-radius: 60px;
        margin-bottom: 30px;
        animation: gradientMove 3s linear infinite;
    }
    
    .badge-inner {
        background: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(10px);
        padding: 8px 30px;
        border-radius: 58px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        font-weight: 700;
        letter-spacing: 0.2em;
        font-size: 13px;
        text-transform: uppercase;
        color: white;
    }
    
    /* Impact Stats - Premium */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-top: 40px;
    }
    
    .stat-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
    }
    
    .stat-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.3);
    }
    
    .stat-number {
        font-size: 36px;
        font-weight: 800;
        color: white;
        line-height: 1.2;
        margin-bottom: 5px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    .stat-label {
        color: rgba(255, 255, 255, 0.8);
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    /* Donation Form - Premium */
    .donation-form-container {
        background: white;
        border-radius: 30px;
        padding: 50px;
        box-shadow: 0 30px 50px -30px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(16, 185, 129, 0.1);
        position: relative;
        overflow: hidden;
    }
    
    .donation-form-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(90deg, var(--primary), var(--primary-light), var(--primary-dark));
    }
    
    .form-step {
        display: inline-block;
        background: rgba(16, 185, 129, 0.1);
        color: var(--primary);
        padding: 6px 16px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 13px;
        margin-bottom: 20px;
    }
    
    /* Amount Buttons */
    .amount-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-bottom: 15px;
    }
    
    .amount-btn {
        padding: 15px 10px;
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        background: white;
        color: #4b5563;
        font-weight: 600;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .amount-btn:hover {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.05);
        transform: translateY(-2px);
    }
    
    .amount-btn.active {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.1);
        color: var(--primary);
        box-shadow: 0 5px 15px -5px var(--primary-glow);
    }
    
    /* Custom Amount Input */
    .custom-amount {
        position: relative;
        margin-top: 20px;
    }
    
    .currency-symbol {
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        color: #6b7280;
        font-weight: 600;
    }
    
    .custom-amount-input {
        width: 100%;
        padding: 16px 16px 16px 60px;
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        font-size: 18px;
        transition: all 0.3s ease;
        background: #f9fafb;
    }
    
    .custom-amount-input:focus {
        outline: none;
        border-color: var(--primary);
        background: white;
        box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
    }
    
    /* Frequency Options */
    .frequency-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
    }
    
    .frequency-option {
        position: relative;
    }
    
    .frequency-option input[type="radio"] {
        display: none;
    }
    
    .frequency-label {
        display: block;
        padding: 15px 10px;
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        text-align: center;
        font-weight: 600;
        color: #4b5563;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .frequency-option input[type="radio"]:checked + .frequency-label {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.1);
        color: var(--primary);
        box-shadow: 0 5px 15px -5px var(--primary-glow);
    }
    
    .frequency-label:hover {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.05);
        transform: translateY(-2px);
    }
    
    /* Form Inputs */
    .form-group {
        margin-bottom: 25px;
    }
    
    .form-label {
        display: block;
        font-size: 14px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 8px;
    }
    
    .form-control {
        width: 100%;
        padding: 14px 18px;
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        font-size: 15px;
        transition: all 0.3s ease;
        background: #f9fafb;
    }
    
    .form-control:focus {
        outline: none;
        border-color: var(--primary);
        background: white;
        box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
    }
    
    .form-control:hover {
        border-color: #9ca3af;
    }
    
    select.form-control {
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 16px center;
        background-size: 20px;
    }
    
    /* Payment Method Cards */
    .payment-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
        margin-top: 10px;
    }
    
    .payment-option {
        position: relative;
    }
    
    .payment-option input[type="radio"] {
        display: none;
    }
    
    .payment-card {
        padding: 20px 15px;
        border: 2px solid #e5e7eb;
        border-radius: 16px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .payment-option input[type="radio"]:checked + .payment-card {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.1);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px -10px var(--primary-glow);
    }
    
    .payment-card:hover {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.05);
        transform: translateY(-2px);
    }
    
    .payment-icon {
        font-size: 32px;
        margin-bottom: 10px;
        display: block;
    }
    
    .payment-label {
        font-size: 13px;
        font-weight: 600;
        color: #4b5563;
    }
    
    .payment-option input[type="radio"]:checked + .payment-card .payment-label {
        color: var(--primary);
    }
    
    /* Anonymous Checkbox */
    .checkbox-wrapper {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 15px;
        background: #f9fafb;
        border-radius: 12px;
    }
    
    .checkbox-wrapper input[type="checkbox"] {
        width: 20px;
        height: 20px;
        accent-color: var(--primary);
    }
    
    .checkbox-label {
        font-size: 15px;
        color: #4b5563;
    }
    
    /* Submit Button */
    .donate-btn {
        width: 100%;
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        font-weight: 800;
        font-size: 18px;
        padding: 18px 30px;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        margin-top: 30px;
        box-shadow: 0 10px 20px -5px var(--primary-glow);
    }
    
    .donate-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        transform: translate(-50%, -50%);
        transition: width 0.6s ease, height 0.6s ease;
    }
    
    .donate-btn:hover {
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 20px 30px -5px var(--primary);
    }
    
    .donate-btn:hover::before {
        width: 300px;
        height: 300px;
    }
    
    /* Security Badge */
    .security-badge {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin-top: 20px;
        padding: 12px;
        background: #f9fafb;
        border-radius: 12px;
        color: #6b7280;
        font-size: 13px;
    }
    
    .security-badge svg {
        color: var(--primary);
    }
    
    /* Info Cards */
    .info-card {
        background: white;
        border-radius: 20px;
        padding: 25px;
        box-shadow: 0 10px 30px -15px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(16, 185, 129, 0.1);
        transition: all 0.3s ease;
        height: 100%;
    }
    
    .info-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px -20px var(--primary-glow);
        border-color: transparent;
    }
    
    .info-card.green {
        background: linear-gradient(135deg, #ecfdf5, white);
    }
    
    .info-card.gray {
        background: #f9fafb;
    }
    
    .impact-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .impact-list li {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid #f3f4f6;
    }
    
    .impact-list li:last-child {
        border-bottom: none;
    }
    
    .impact-list svg {
        flex-shrink: 0;
        width: 20px;
        height: 20px;
        color: var(--primary);
    }
    
    .impact-list span {
        color: #4b5563;
        font-size: 14px;
        line-height: 1.5;
    }
    
    .contact-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 0;
    }
    
    .contact-item svg {
        width: 20px;
        height: 20px;
        color: var(--primary);
    }
    
    .contact-item span {
        color: #4b5563;
        font-size: 14px;
    }
    
    /* Other Ways Cards */
    .method-card {
        background: white;
        border-radius: 24px;
        padding: 40px 30px;
        text-align: center;
        transition: all 0.3s ease;
        border: 1px solid rgba(16, 185, 129, 0.1);
        height: 100%;
        position: relative;
        overflow: hidden;
    }
    
    .method-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), transparent);
        transform: translateY(100%);
        transition: transform 0.4s ease;
    }
    
    .method-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 30px 40px -20px var(--primary-glow);
    }
    
    .method-card:hover::before {
        transform: translateY(0);
    }
    
    .method-icon {
        font-size: 64px;
        margin-bottom: 20px;
        transition: transform 0.3s ease;
    }
    
    .method-card:hover .method-icon {
        transform: scale(1.1) rotate(5deg);
    }
    
    .method-title {
        font-size: 22px;
        font-weight: 800;
        color: #1f2937;
        margin-bottom: 15px;
    }
    
    .method-desc {
        color: #6b7280;
        font-size: 14px;
        line-height: 1.6;
        margin-bottom: 20px;
    }
    
    .bank-details {
        background: #f9fafb;
        border-radius: 12px;
        padding: 15px;
        text-align: left;
        margin-top: 20px;
    }
    
    .bank-details p {
        margin: 5px 0;
        font-size: 13px;
        color: #4b5563;
    }
    
    .paybill {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        padding: 20px;
        border-radius: 12px;
        margin-top: 15px;
    }
    
    .paybill p {
        font-size: 18px;
        font-weight: 700;
        margin: 5px 0;
    }
    
    /* FAQ Accordion */
    .faq-item {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 16px;
        margin-bottom: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
    }
    
    .faq-item:hover {
        border-color: var(--primary);
        box-shadow: 0 5px 15px -5px rgba(0,0,0,0.1);
    }
    
    .faq-question {
        width: 100%;
        text-align: left;
        padding: 20px 25px;
        background: white;
        border: none;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        color: #1f2937;
        transition: all 0.3s ease;
    }
    
    .faq-question:hover {
        background: #f9fafb;
    }
    
    .faq-question svg {
        transition: transform 0.3s ease;
    }
    
    .faq-question.active svg {
        transform: rotate(180deg);
    }
    
    .faq-answer {
        padding: 0 25px;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease;
        color: #6b7280;
        line-height: 1.6;
    }
    
    .faq-answer.active {
        padding: 0 25px 25px 25px;
        max-height: 200px;
    }
    
    /* Reveal Animations */
    .reveal-left {
        opacity: 0;
        transform: translateX(-50px);
        transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .reveal-right {
        opacity: 0;
        transform: translateX(50px);
        transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .reveal-up {
        opacity: 0;
        transform: translateY(50px);
        transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .reveal-scale {
        opacity: 0;
        transform: scale(0.9);
        transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .revealed {
        opacity: 1;
        transform: translate(0) scale(1);
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .payment-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
    
    @media (max-width: 768px) {
        .donation-form-container {
            padding: 30px;
        }
        
        .stats-grid {
            grid-template-columns: 1fr;
        }
        
        .amount-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .frequency-grid {
            grid-template-columns: 1fr;
        }
        
        .gradient-orb {
            opacity: 0.2;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- ===== CINEMATIC HEADER ===== -->
<section class="cinematic-header">
    <!-- Particles -->
    <div class="header-particles" id="particles"></div>
    
    <!-- Gradient Orbs -->
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
    
    <!-- Header Content -->
    <div class="header-content">
        <div class="header-badge reveal-scale">
            <div class="badge-inner">‚ú¶ MAKE A DIFFERENCE ‚ú¶</div>
        </div>
        
        <h1 class="text-5xl md:text-6xl lg:text-7xl font-black mb-6 leading-tight reveal-up">
            Support <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-white">Climate Action</span>
        </h1>
        
        <p class="text-xl text-white/90 max-w-3xl mx-auto leading-relaxed reveal-up" data-delay="100">
            Your donation powers youth training, ecosystem restoration, and indigenous knowledge 
            preservation across Kenya. Every contribution creates lasting impact.
        </p>
        
        <!-- Impact Stats -->
        <div class="stats-grid reveal-up" data-delay="200">
            <div class="stat-card">
                <div class="stat-number">500+</div>
                <div class="stat-label">Youth Trained</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">50K+</div>
                <div class="stat-label">Trees Planted</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">20+</div>
                <div class="stat-label">Startups</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">10+</div>
                <div class="stat-label">Counties</div>
            </div>
        </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10">
        <div class="w-6 h-10 border-2 border-white/30 rounded-full flex justify-center">
            <div class="w-1 h-2 bg-white rounded-full mt-2 animate-bounce"></div>
        </div>
    </div>
</section>

<!-- ===== DONATION FORM SECTION ===== -->
<section class="py-24 bg-white relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
        <svg width="100%" height="100%">
            <defs>
                <pattern id="donation-pattern" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
                    <circle cx="30" cy="30" r="5" fill="#10b981"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#donation-pattern)"/>
        </svg>
    </div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Donation Form -->
            <div class="lg:col-span-2 reveal-left" data-delay="200">
                <div class="donation-form-container">
                    <div class="text-center mb-8">
                        <span class="form-step">STEP 01</span>
                        <h2 class="text-3xl md:text-4xl font-black text-gray-900 mb-4">Make a Contribution</h2>
                        <p class="text-gray-600">Choose your amount and payment method</p>
                    </div>
                    
                    <form method="post" class="space-y-6" id="donationForm">
                        {% csrf_token %}
                        
                        <!-- Display form errors if any -->
                        {% if form.errors %}
                        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-red-700">Please correct the errors below.</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        
                        <!-- Donation Amount -->
                        <div>
                            <label class="form-label">Select Amount</label>
                            <div class="amount-grid">
                                <button type="button" class="amount-btn" data-amount="100">KES 100</button>
                                <button type="button" class="amount-btn" data-amount="500">KES 500</button>
                                <button type="button" class="amount-btn" data-amount="1000">KES 1K</button>
                                <button type="button" class="amount-btn" data-amount="5000">KES 5K</button>
                                <button type="button" class="amount-btn" data-amount="10000">KES 10K</button>
                                <button type="button" class="amount-btn" data-amount="50000">KES 50K</button>
                            </div>
                            
                            <div class="custom-amount">
                                <span class="currency-symbol">KES</span>
                                <input type="number" 
                                       name="{{ form.amount.name }}" 
                                       id="{{ form.amount.id_for_label }}" 
                                       value="{{ form.amount.value|default:'' }}" 
                                       class="custom-amount-input" 
                                       placeholder="Custom amount"
                                       step="0.01" 
                                       min="1">
                            </div>
                            {% if form.amount.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.amount.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <!-- Donation Frequency -->
                        <div>
                            <label class="form-label">Frequency</label>
                            <div class="frequency-grid">
                                {% for value, label in form.frequency.field.choices %}
                                <div class="frequency-option">
                                    <input type="radio" 
                                           name="{{ form.frequency.name }}" 
                                           id="freq_{{ value }}" 
                                           value="{{ value }}" 
                                           {% if form.frequency.value == value %}checked{% endif %}>
                                    <label for="freq_{{ value }}" class="frequency-label">{{ label }}</label>
                                </div>
                                {% endfor %}
                            </div>
                            {% if form.frequency.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.frequency.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <!-- Personal Information -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="form-group">
                                <label for="{{ form.full_name.id_for_label }}" class="form-label">Full Name</label>
                                <input type="text" 
                                       name="{{ form.full_name.name }}" 
                                       id="{{ form.full_name.id_for_label }}" 
                                       value="{{ form.full_name.value|default:'' }}" 
                                       class="form-control" 
                                       placeholder="John Doe"
                                       required>
                                {% if form.full_name.errors %}
                                <p class="mt-1 text-sm text-red-600">{{ form.full_name.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div class="form-group">
                                <label for="{{ form.email.id_for_label }}" class="form-label">Email Address</label>
                                <input type="email" 
                                       name="{{ form.email.name }}" 
                                       id="{{ form.email.id_for_label }}" 
                                       value="{{ form.email.value|default:'' }}" 
                                       class="form-control" 
                                       placeholder="john@example.com"
                                       required>
                                {% if form.email.errors %}
                                <p class="mt-1 text-sm text-red-600">{{ form.email.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div class="form-group">
                                <label for="{{ form.phone.id_for_label }}" class="form-label">Phone Number</label>
                                <input type="tel" 
                                       name="{{ form.phone.name }}" 
                                       id="{{ form.phone.id_for_label }}" 
                                       value="{{ form.phone.value|default:'' }}" 
                                       class="form-control" 
                                       placeholder="+254 XXX XXX XXX">
                                {% if form.phone.errors %}
                                <p class="mt-1 text-sm text-red-600">{{ form.phone.errors.0 }}</p>
                                {% endif %}
                            </div>
                            
                            <div class="form-group">
                                <label for="{{ form.currency.id_for_label }}" class="form-label">Currency</label>
                                <select name="{{ form.currency.name }}" 
                                        id="{{ form.currency.id_for_label }}" 
                                        class="form-control">
                                    <option value="KES" {% if form.currency.value == 'KES' %}selected{% endif %}>KES - Kenyan Shilling</option>
                                    <option value="USD" {% if form.currency.value == 'USD' %}selected{% endif %}>USD - US Dollar</option>
                                    <option value="EUR" {% if form.currency.value == 'EUR' %}selected{% endif %}>EUR - Euro</option>
                                    <option value="GBP" {% if form.currency.value == 'GBP' %}selected{% endif %}>GBP - British Pound</option>
                                </select>
                                {% if form.currency.errors %}
                                <p class="mt-1 text-sm text-red-600">{{ form.currency.errors.0 }}</p>
                                {% endif %}
                            </div>
                        </div>
                        
                        <!-- Anonymous Donation -->
                        <div class="checkbox-wrapper">
                            <input type="checkbox" 
                                   name="{{ form.is_anonymous.name }}" 
                                   id="{{ form.is_anonymous.id_for_label }}" 
                                   {% if form.is_anonymous.value %}checked{% endif %}>
                            <label for="{{ form.is_anonymous.id_for_label }}" class="checkbox-label">
                                Make this donation anonymous (your name will not be displayed publicly)
                            </label>
                        </div>
                        
                        <!-- Payment Method -->
                        <div>
                            <label class="form-label">Payment Method</label>
                            <div class="payment-grid">
                                <div class="payment-option">
                                    <input type="radio" 
                                           name="{{ form.payment_method.name }}" 
                                           id="method_mpesa" 
                                           value="mpesa"
                                           {% if form.payment_method.value == 'mpesa' %}checked{% endif %}>
                                    <label for="method_mpesa" class="payment-card">
                                        <span class="payment-icon">üì±</span>
                                        <span class="payment-label">M-Pesa</span>
                                    </label>
                                </div>
                                
                                <div class="payment-option">
                                    <input type="radio" 
                                           name="{{ form.payment_method.name }}" 
                                           id="method_card" 
                                           value="card"
                                           {% if form.payment_method.value == 'card' %}checked{% endif %}>
                                    <label for="method_card" class="payment-card">
                                        <span class="payment-icon">üí≥</span>
                                        <span class="payment-label">Credit Card</span>
                                    </label>
                                </div>
                                
                                <div class="payment-option">
                                    <input type="radio" 
                                           name="{{ form.payment_method.name }}" 
                                           id="method_bank" 
                                           value="bank"
                                           {% if form.payment_method.value == 'bank' %}checked{% endif %}>
                                    <label for="method_bank" class="payment-card">
                                        <span class="payment-icon">üè¶</span>
                                        <span class="payment-label">Bank Transfer</span>
                                    </label>
                                </div>
                                
                                <div class="payment-option">
                                    <input type="radio" 
                                           name="{{ form.payment_method.name }}" 
                                           id="method_paypal" 
                                           value="paypal"
                                           {% if form.payment_method.value == 'paypal' %}checked{% endif %}>
                                    <label for="method_paypal" class="payment-card">
                                        <span class="payment-icon">üÖøÔ∏è</span>
                                        <span class="payment-label">PayPal</span>
                                    </label>
                                </div>
                            </div>
                            <input type="hidden" name="{{ form.payment_method.name }}" id="{{ form.payment_method.id_for_label }}" value="{{ form.payment_method.value|default:'' }}">
                            {% if form.payment_method.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.payment_method.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <!-- Submit Button -->
                        <button type="submit" class="donate-btn">
                            Proceed to Donation
                            <svg class="w-5 h-5 inline ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </button>
                        
                        <!-- Security Notice -->
                        <div class="security-badge">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                            <span>Your payment information is secure. All transactions are encrypted and processed securely.</span>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Information Sidebar -->
            <div class="lg:col-span-1 space-y-6">
                <!-- Why Donate -->
                <div class="info-card green reveal-right" data-delay="250">
                    <h3 class="text-xl font-black text-gray-900 mb-4">Why Your Donation Matters</h3>
                    <ul class="impact-list">
                        <li>
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <span>Trains 1 youth in climate-smart agriculture for 1 month</span>
                        </li>
                        <li>
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <span>Plants and nurtures 10 indigenous trees</span>
                        </li>
                        <li>
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <span>Supports 1 community seed bank for a year</span>
                        </li>
                        <li>
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <span>Funds 1 climate innovation startup</span>
                        </li>
                    </ul>
                </div>
                
                <!-- Tax Information -->
                <div class="info-card gray reveal-right" data-delay="300">
                    <h3 class="text-xl font-black text-gray-900 mb-4">Tax Information</h3>
                    <p class="text-sm text-gray-600 mb-3">
                        KCIHH is a registered non-profit organization. All donations are tax-deductible to the extent allowed by law.
                    </p>
                    <div class="bg-white p-3 rounded-lg border border-gray-200">
                        <p class="text-sm font-medium text-gray-700">Tax ID: <span class="font-normal">KCIHH-2024-NGO/1234</span></p>
                    </div>
                </div>
                
                <!-- Contact -->
                <div class="info-card reveal-right" data-delay="350">
                    <h3 class="text-xl font-black text-gray-900 mb-4">Have Questions?</h3>
                    <p class="text-sm text-gray-600 mb-4">
                        Our team is here to help with any questions about donations.
                    </p>
                    <div class="space-y-2">
                        <div class="contact-item">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            <span>donate@kcihh.org</span>
                        </div>
                        <div class="contact-item">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            <span>+254 700 123 456</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ===== OTHER WAYS TO GIVE ===== -->
<section class="py-24 bg-gray-50 relative overflow-hidden">
    <!-- Gradient Orbs -->
    <div class="gradient-orb orb-1" style="opacity: 0.1;"></div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div class="text-center mb-16">
            <span class="text-green-600 font-semibold tracking-[0.2em] text-sm uppercase reveal-up">More Options</span>
            <h2 class="text-4xl md:text-5xl font-black text-gray-900 mt-4 reveal-up" data-delay="100">
                Other Ways to <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-green-400">Give</span>
            </h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Bank Transfer -->
            <div class="method-card reveal-scale" data-delay="200">
                <div class="method-icon">üè¶</div>
                <h3 class="method-title">Bank Transfer</h3>
                <p class="method-desc">Direct bank transfers to our account</p>
                <div class="bank-details">
                    <p><strong>Bank:</strong> Equity Bank</p>
                    <p><strong>Account Name:</strong> KCIHH</p>
                    <p><strong>Account Number:</strong> 1234567890</p>
                    <p><strong>Branch:</strong> Nairobi</p>
                    <p><strong>SWIFT Code:</strong> EQBLKENA</p>
                </div>
            </div>
            
            <!-- M-Pesa Paybill -->
            <div class="method-card reveal-scale" data-delay="250">
                <div class="method-icon">üì±</div>
                <h3 class="method-title">M-Pesa Paybill</h3>
                <p class="method-desc">Quick and easy mobile payments</p>
                <div class="paybill">
                    <p class="text-white/80 text-sm">Paybill</p>
                    <p class="text-3xl font-black">123456</p>
                    <p class="text-white/80 text-sm mt-2">Account</p>
                    <p class="text-xl font-bold">YOURNAME</p>
                </div>
            </div>
            
            <!-- Corporate Partnerships -->
            <div class="method-card reveal-scale" data-delay="300">
                <div class="method-icon">ü§ù</div>
                <h3 class="method-title">Corporate Giving</h3>
                <p class="method-desc">Partner your company with us</p>
                <a href="mailto:partnerships@kcihh.org" class="inline-flex items-center text-green-600 hover:text-green-700 font-bold mt-4 group">
                    partnerships@kcihh.org
                    <svg class="w-4 h-4 ml-2 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- ===== FAQ SECTION ===== -->
<section class="py-24 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <span class="text-green-600 font-semibold tracking-[0.2em] text-sm uppercase reveal-up">Got Questions?</span>
            <h2 class="text-4xl md:text-5xl font-black text-gray-900 mt-4 reveal-up" data-delay="100">
                Frequently Asked <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-green-400">Questions</span>
            </h2>
        </div>
        
        <div class="space-y-4" x-data="{ activeFaq: null }">
            <!-- FAQ 1 -->
            <div class="faq-item reveal-scale" data-delay="200">
                <button class="faq-question" @click="activeFaq = activeFaq === 1 ? null : 1" :class="{ 'active': activeFaq === 1 }">
                    <span>Is my donation tax-deductible?</span>
                    <svg class="w-5 h-5" :class="{ 'rotate-180': activeFaq === 1 }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div class="faq-answer" :class="{ 'active': activeFaq === 1 }">
                    Yes, KCIHH is a registered non-profit organization. All donations are tax-deductible to the extent allowed by law. You will receive a receipt for your donation.
                </div>
            </div>
            
            <!-- FAQ 2 -->
            <div class="faq-item reveal-scale" data-delay="250">
                <button class="faq-question" @click="activeFaq = activeFaq === 2 ? null : 2" :class="{ 'active': activeFaq === 2 }">
                    <span>How is my donation used?</span>
                    <svg class="w-5 h-5" :class="{ 'rotate-180': activeFaq === 2 }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div class="faq-answer" :class="{ 'active': activeFaq === 2 }">
                    85% of your donation goes directly to our programs: youth training, ecosystem restoration, and indigenous knowledge preservation. 15% supports administrative and fundraising costs.
                </div>
            </div>
            
            <!-- FAQ 3 -->
            <div class="faq-item reveal-scale" data-delay="300">
                <button class="faq-question" @click="activeFaq = activeFaq === 3 ? null : 3" :class="{ 'active': activeFaq === 3 }">
                    <span>Can I make a recurring donation?</span>
                    <svg class="w-5 h-5" :class="{ 'rotate-180': activeFaq === 3 }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div class="faq-answer" :class="{ 'active': activeFaq === 3 }">
                    Yes! You can choose monthly or annual recurring donations. Select the frequency option in the donation form above.
                </div>
            </div>
            
            <!-- FAQ 4 -->
            <div class="faq-item reveal-scale" data-delay="350">
                <button class="faq-question" @click="activeFaq = activeFaq === 4 ? null : 4" :class="{ 'active': activeFaq === 4 }">
                    <span>Will I receive a receipt?</span>
                    <svg class="w-5 h-5" :class="{ 'rotate-180': activeFaq === 4 }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div class="faq-answer" :class="{ 'active': activeFaq === 4 }">
                    Yes, you will receive an email receipt immediately after your donation. For recurring donations, you'll receive a receipt each month and an annual summary.
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ===== CTA SECTION ===== -->
<section class="relative py-20 bg-gradient-to-r from-green-700 to-green-600 overflow-hidden">
    <div class="absolute inset-0 opacity-10">
        <svg width="100%" height="100%">
            <defs>
                <pattern id="cta-pattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                    <circle cx="20" cy="20" r="2" fill="white"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#cta-pattern)"/>
        </svg>
    </div>
    
    <div class="relative max-w-4xl mx-auto text-center px-4">
        <h2 class="text-4xl md:text-5xl font-black text-white mb-6">Make a Difference Today</h2>
        <p class="text-xl text-green-50 mb-10 max-w-2xl mx-auto">Your support powers climate innovation, youth leadership, and a sustainable future for Kenya.</p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#donationForm" class="group bg-white text-green-700 hover:bg-green-50 font-bold py-4 px-10 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-2xl flex items-center justify-center">
                Donate Now
                <svg class="w-5 h-5 ml-2 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
            </a>
            <a href="/contact/" class="group bg-green-500 hover:bg-green-400 text-white font-bold py-4 px-10 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-2xl flex items-center justify-center border-2 border-white/20">
                Contact Us
                <svg class="w-5 h-5 ml-2 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                </svg>
            </a>
        </div>
    </div>
</section>

<script>
    // Particle Generation for Header
    document.addEventListener('DOMContentLoaded', function() {
        function createParticles(containerId) {
            const particlesContainer = document.getElementById(containerId);
            if (!particlesContainer) return;
            
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = 10 + Math.random() * 20 + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        createParticles('particles');
        
        // Handle donation amount buttons
        const amountBtns = document.querySelectorAll('.amount-btn');
        const amountInput = document.getElementById('{{ form.amount.id_for_label }}');
        
        amountBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const amount = this.dataset.amount;
                amountInput.value = amount;
                
                // Remove active class from all buttons
                amountBtns.forEach(b => {
                    b.classList.remove('active', 'border-green-500', 'bg-green-50', 'text-green-700');
                });
                
                // Add active class to clicked button
                this.classList.add('active', 'border-green-500', 'bg-green-50', 'text-green-700');
            });
        });
        
        // Handle payment method selection
        const paymentInputs = document.querySelectorAll('input[name="{{ form.payment_method.name }}"]');
        const hiddenPaymentInput = document.getElementById('{{ form.payment_method.id_for_label }}');
        
        paymentInputs.forEach(input => {
            input.addEventListener('change', function() {
                hiddenPaymentInput.value = this.value;
            });
        });
        
        // Form validation
        document.getElementById('donationForm')?.addEventListener('submit', function(e) {
            const amount = amountInput.value;
            if (!amount || amount <= 0) {
                e.preventDefault();
                alert('Please enter a valid donation amount');
            }
        });
        
        // Reveal on Scroll
        const revealElements = document.querySelectorAll('.reveal-left, .reveal-right, .reveal-up, .reveal-scale');
        
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.classList.add('revealed');
                    }, entry.target.dataset.delay || 0);
                    revealObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2, rootMargin: '0px 0px -50px 0px' });
        
        revealElements.forEach(el => revealObserver.observe(el));
    });
</script>
{% endblock %}